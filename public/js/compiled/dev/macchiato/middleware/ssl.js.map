{"version":3,"file":"\/Users\/retro\/Projects\/keechma-ssr\/public\/js\/compiled\/dev\/macchiato\/middleware\/ssl.js","sources":["ssl.cljs?rel=1488028098560"],"lineCount":330,"mappings":"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","names":["macchiato.middleware.ssl\/url","cljs.nodejs\/require","macchiato.middleware.ssl\/default-scheme-header","var_args","args31039","len__26342__auto__","i__26343__auto__","G__31041","macchiato.middleware.ssl\/forwarded-scheme-request","js\/Error","request","header","clojure.string\/lower-case","default","cljs.core\/name","scheme","cljs.core\/get-in","cljs.core\/assoc","cljs.core\/keyword","args31046","G__31048","macchiato.middleware.ssl\/wrap-forwarded-scheme","handler","respond","raise","p__31053","map__31056","cljs.core\/PROTOCOL_SENTINEL","cljs.core\/apply","cljs.core\/hash-map","cljs.core\/get","macchiato.middleware.ssl\/get-request?","method","cljs.core\/=","macchiato.middleware.ssl\/valid-url?","url-string","cljs.core\/re-matches","macchiato.middleware.ssl\/https-url","port","url","temp__4657__auto__","auth","macchiato.middleware.ssl\/ssl-redirect-response","options","macchiato.util.response\/found","macchiato.util.request\/request-url","macchiato.util.response\/status","args31058","G__31060","macchiato.middleware.ssl\/wrap-ssl-redirect","e31061","e","p__31066","map__31069","macchiato.middleware.ssl\/build-hsts-header","max-age","include-subdomains?","args31071","G__31073","macchiato.middleware.ssl\/hsts-response","response","G__31074","macchiato.util.response\/header","args31080","G__31082","macchiato.middleware.ssl\/wrap-hsts","p1__31079#"]}