// Compiled by ClojureScript 1.9.473 {:target :nodejs}
goog.provide('macchiato.middleware.defaults');
goog.require('cljs.core');
goog.require('macchiato.middleware');
goog.require('macchiato.middleware.anti_forgery');
goog.require('macchiato.middleware.content_type');
goog.require('macchiato.middleware.default_charset');
goog.require('macchiato.middleware.file');
goog.require('macchiato.middleware.flash');
goog.require('macchiato.middleware.keyword_params');
goog.require('macchiato.middleware.multipart_params');
goog.require('macchiato.middleware.nested_params');
goog.require('macchiato.middleware.not_modified');
goog.require('macchiato.middleware.params');
goog.require('macchiato.middleware.proxy_headers');
goog.require('macchiato.middleware.resource');
goog.require('macchiato.middleware.session');
goog.require('macchiato.middleware.ssl');
goog.require('macchiato.middleware.x_headers');
/**
 * A default configuration for a HTTP API.
 */
macchiato.middleware.defaults.api_defaults = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"params","params",710516235),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"urlencoded","urlencoded",52330307),true,new cljs.core.Keyword(null,"keywordize","keywordize",1381210758),true], null),new cljs.core.Keyword(null,"responses","responses",1257546453),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"not-modified-responses","not-modified-responses",995197800),true,new cljs.core.Keyword(null,"absolute-redirects","absolute-redirects",1651530890),true,new cljs.core.Keyword(null,"content-types","content-types",1736685783),true,new cljs.core.Keyword(null,"default-charset","default-charset",-1183575786),"utf-8"], null)], null);
/**
 * A default configuration for a HTTP API that's accessed securely over HTTPS.
 */
macchiato.middleware.defaults.secure_api_defaults = cljs.core.assoc_in.call(null,cljs.core.assoc_in.call(null,macchiato.middleware.defaults.api_defaults,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"security","security",886963079),new cljs.core.Keyword(null,"ssl-redirect","ssl-redirect",985122709)], null),true),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"security","security",886963079),new cljs.core.Keyword(null,"hsts","hsts",490537911)], null),true);
/**
 * A default configuration for a browser-accessible website, based on current
 *   best practice.
 */
macchiato.middleware.defaults.site_defaults = new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"params","params",710516235),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"urlencoded","urlencoded",52330307),true,new cljs.core.Keyword(null,"multipart","multipart",1158197946),true,new cljs.core.Keyword(null,"nested","nested",18943849),true,new cljs.core.Keyword(null,"keywordize","keywordize",1381210758),true], null),new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"flash","flash",934660619),true,new cljs.core.Keyword(null,"cookie-attrs","cookie-attrs",-1318966946),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"http-only","http-only",-825379555),true], null)], null),new cljs.core.Keyword(null,"security","security",886963079),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"anti-forgery","anti-forgery",-2121760746),true,new cljs.core.Keyword(null,"xss-protection","xss-protection",2105379669),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"enable?","enable?",-407239694),true,new cljs.core.Keyword(null,"mode","mode",654403691),new cljs.core.Keyword(null,"block","block",664686210)], null),new cljs.core.Keyword(null,"frame-options","frame-options",942536866),new cljs.core.Keyword(null,"sameorigin","sameorigin",-366814876),new cljs.core.Keyword(null,"content-type-options","content-type-options",1370920637),new cljs.core.Keyword(null,"nosniff","nosniff",-794034758)], null),new cljs.core.Keyword(null,"static","static",1214358571),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"resources","resources",1632806811),"public"], null),new cljs.core.Keyword(null,"responses","responses",1257546453),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"not-modified-responses","not-modified-responses",995197800),true,new cljs.core.Keyword(null,"absolute-redirects","absolute-redirects",1651530890),true,new cljs.core.Keyword(null,"content-types","content-types",1736685783),true,new cljs.core.Keyword(null,"default-charset","default-charset",-1183575786),"utf-8"], null)], null);
/**
 * A default configuration for a browser-accessible website that's accessed
 *   securely over HTTPS.
 */
macchiato.middleware.defaults.secure_site_defaults = cljs.core.assoc_in.call(null,cljs.core.assoc_in.call(null,cljs.core.assoc_in.call(null,cljs.core.assoc_in.call(null,macchiato.middleware.defaults.site_defaults,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"cookie-attrs","cookie-attrs",-1318966946),new cljs.core.Keyword(null,"secure","secure",176883900)], null),true),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"cookie-name","cookie-name",1560376745)], null),"secure-ring-session"),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"security","security",886963079),new cljs.core.Keyword(null,"ssl-redirect","ssl-redirect",985122709)], null),true),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"security","security",886963079),new cljs.core.Keyword(null,"hsts","hsts",490537911)], null),true);
macchiato.middleware.defaults.wrap = (function macchiato$middleware$defaults$wrap(handler,middleware_fn,options){
if(options === true){
return macchiato.middleware.wrap.call(null,handler,middleware_fn);
} else {
if(cljs.core.truth_(options)){
return macchiato.middleware.wrap.call(null,handler,middleware_fn,options);
} else {
return handler;

}
}
});
/**
 * Wraps a handler in default Ring middleware, as specified by the supplied
 *   configuration map.
 *   See: api-defaults
 *     site-defaults
 *     secure-api-defaults
 *     secure-site-defaults
 */
macchiato.middleware.defaults.wrap_defaults = (function macchiato$middleware$defaults$wrap_defaults(handler,config){
return macchiato.middleware.validate_handler.call(null,macchiato.middleware.defaults.wrap.call(null,macchiato.middleware.defaults.wrap.call(null,macchiato.middleware.defaults.wrap.call(null,macchiato.middleware.defaults.wrap.call(null,macchiato.middleware.defaults.wrap.call(null,macchiato.middleware.defaults.wrap.call(null,macchiato.middleware.defaults.wrap.call(null,macchiato.middleware.defaults.wrap.call(null,macchiato.middleware.defaults.wrap.call(null,macchiato.middleware.defaults.wrap.call(null,macchiato.middleware.defaults.wrap.call(null,macchiato.middleware.defaults.wrap.call(null,macchiato.middleware.defaults.wrap.call(null,macchiato.middleware.defaults.wrap.call(null,macchiato.middleware.defaults.wrap.call(null,macchiato.middleware.defaults.wrap.call(null,macchiato.middleware.defaults.wrap.call(null,macchiato.middleware.defaults.wrap.call(null,macchiato.middleware.defaults.wrap.call(null,handler,new cljs.core.Var(function(){return macchiato.middleware.anti_forgery.wrap_anti_forgery;},new cljs.core.Symbol("macchiato.middleware.anti-forgery","wrap-anti-forgery","macchiato.middleware.anti-forgery/wrap-anti-forgery",1601567096,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword("macchiato","middleware","macchiato/middleware",-1209146585),new cljs.core.Keyword(null,"ns","ns",441598760),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"top-fn","top-fn",-2056129173),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"arglists","arglists",1661989754),new cljs.core.Keyword(null,"doc","doc",1913296891),new cljs.core.Keyword(null,"test","test",577538877)],[new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"wrap-anti-forgery","wrap-anti-forgery",715204345),new cljs.core.Keyword(null,"required","required",1807647006),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"wrap-session","wrap-session",524993076)], null)], null),new cljs.core.Symbol(null,"macchiato.middleware.anti-forgery","macchiato.middleware.anti-forgery",1984060865,null),new cljs.core.Symbol(null,"wrap-anti-forgery","wrap-anti-forgery",-1939231424,null),"public/js/compiled/dev/macchiato/middleware/anti_forgery.cljs",20,new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"variadic","variadic",882626057),false,new cljs.core.Keyword(null,"max-fixed-arity","max-fixed-arity",-690205543),2,new cljs.core.Keyword(null,"method-params","method-params",-980792179),cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"options","options",1740170016,null)], null)),new cljs.core.Keyword(null,"arglists","arglists",1661989754),cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"options","options",1740170016,null)], null)),new cljs.core.Keyword(null,"arglists-meta","arglists-meta",1944829838),cljs.core.list(null,null)], null),1,65,69,cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"options","options",1740170016,null)], null)),"Middleware that prevents CSRF attacks. Any POST request to the handler\n  returned by this function must contain a valid anti-forgery token, or else an\n  access-denied response is returned.\n\n  The anti-forgery token can be placed into a HTML page via the\n  *anti-forgery-token* var, which is bound to a random key unique to the\n  current session. By default, the token is expected to be in a form field\n  named '__anti-forgery-token', or in the 'X-CSRF-Token' or 'X-XSRF-Token'\n  headers.\n\n  Accepts the following options:\n\n  :read-token     - a function that takes a request and returns an anti-forgery\n                    token, or nil if the token does not exist\n\n  :error-response - the response to return if the anti-forgery token is\n                    incorrect or missing\n\n  :error-handler  - a handler function to call if the anti-forgery token is\n                    incorrect or missing.\n\n  Only one of :error-response, :error-handler may be specified.",(cljs.core.truth_(macchiato.middleware.anti_forgery.wrap_anti_forgery)?macchiato.middleware.anti_forgery.wrap_anti_forgery.cljs$lang$test:null)])),cljs.core.get_in.call(null,config,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"security","security",886963079),new cljs.core.Keyword(null,"anti-forgery","anti-forgery",-2121760746)], null),false)),new cljs.core.Var(function(){return macchiato.middleware.flash.wrap_flash;},new cljs.core.Symbol("macchiato.middleware.flash","wrap-flash","macchiato.middleware.flash/wrap-flash",555268937,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword("macchiato","middleware","macchiato/middleware",-1209146585),new cljs.core.Keyword(null,"ns","ns",441598760),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"arglists","arglists",1661989754),new cljs.core.Keyword(null,"doc","doc",1913296891),new cljs.core.Keyword(null,"test","test",577538877)],[new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"wrap-flash","wrap-flash",-1061124379),new cljs.core.Keyword(null,"required","required",1807647006),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"wrap-session","wrap-session",524993076)], null)], null),new cljs.core.Symbol(null,"macchiato.middleware.flash","macchiato.middleware.flash",1214544887,null),new cljs.core.Symbol(null,"wrap-flash","wrap-flash",579407148,null),"public/js/compiled/dev/macchiato/middleware/flash.cljs",13,1,29,33,cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null)),"If a :flash key is set on the response by the handler, a :flash key with\n  the same value will be set on the next request that shares the same session.\n  This is useful for small messages that persist across redirects.",(cljs.core.truth_(macchiato.middleware.flash.wrap_flash)?macchiato.middleware.flash.wrap_flash.cljs$lang$test:null)])),cljs.core.get_in.call(null,config,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"session","session",1008279103),new cljs.core.Keyword(null,"flash","flash",934660619)], null),false)),new cljs.core.Var(function(){return macchiato.middleware.session.wrap_session;},new cljs.core.Symbol("macchiato.middleware.session","wrap-session","macchiato.middleware.session/wrap-session",-1044542856,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword("macchiato","middleware","macchiato/middleware",-1209146585),new cljs.core.Keyword(null,"ns","ns",441598760),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"top-fn","top-fn",-2056129173),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"arglists","arglists",1661989754),new cljs.core.Keyword(null,"doc","doc",1913296891),new cljs.core.Keyword(null,"test","test",577538877)],[new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"wrap-session","wrap-session",524993076)], null),new cljs.core.Symbol(null,"macchiato.middleware.session","macchiato.middleware.session",265142510,null),new cljs.core.Symbol(null,"wrap-session","wrap-session",-2129442693,null),"public/js/compiled/dev/macchiato/middleware/session.cljs",15,new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"variadic","variadic",882626057),false,new cljs.core.Keyword(null,"max-fixed-arity","max-fixed-arity",-690205543),2,new cljs.core.Keyword(null,"method-params","method-params",-980792179),cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"options","options",1740170016,null)], null)),new cljs.core.Keyword(null,"arglists","arglists",1661989754),cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"options","options",1740170016,null)], null)),new cljs.core.Keyword(null,"arglists-meta","arglists-meta",1944829838),cljs.core.list(null,null)], null),1,56,59,cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"options","options",1740170016,null)], null)),null,(cljs.core.truth_(macchiato.middleware.session.wrap_session)?macchiato.middleware.session.wrap_session.cljs$lang$test:null)])),new cljs.core.Keyword(null,"session","session",1008279103).cljs$core$IFn$_invoke$arity$2(config,false)),new cljs.core.Var(function(){return macchiato.middleware.keyword_params.wrap_keyword_params;},new cljs.core.Symbol("macchiato.middleware.keyword-params","wrap-keyword-params","macchiato.middleware.keyword-params/wrap-keyword-params",-422648501,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword("macchiato","middleware","macchiato/middleware",-1209146585),new cljs.core.Keyword(null,"ns","ns",441598760),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"arglists","arglists",1661989754),new cljs.core.Keyword(null,"doc","doc",1913296891),new cljs.core.Keyword(null,"test","test",577538877)],[new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"wrap-keyword-params","wrap-keyword-params",2128920355),new cljs.core.Keyword(null,"required","required",1807647006),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"wrap-params","wrap-params",2107756639)], null)], null),new cljs.core.Symbol(null,"macchiato.middleware.keyword-params","macchiato.middleware.keyword-params",1817470435,null),new cljs.core.Symbol(null,"wrap-keyword-params","wrap-keyword-params",-525515414,null),"public/js/compiled/dev/macchiato/middleware/keyword_params.cljs",22,1,26,30,cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null)),"Middleware that converts the any string keys in the :params map to keywords.\n  Only keys that can be turned into valid keywords are converted.\n  This middleware does not alter the maps under :*-params keys. These are left\n  as strings.",(cljs.core.truth_(macchiato.middleware.keyword_params.wrap_keyword_params)?macchiato.middleware.keyword_params.wrap_keyword_params.cljs$lang$test:null)])),cljs.core.get_in.call(null,config,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"params","params",710516235),new cljs.core.Keyword(null,"keywordize","keywordize",1381210758)], null),false)),new cljs.core.Var(function(){return macchiato.middleware.nested_params.wrap_nested_params;},new cljs.core.Symbol("macchiato.middleware.nested-params","wrap-nested-params","macchiato.middleware.nested-params/wrap-nested-params",-1675896957,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword("macchiato","middleware","macchiato/middleware",-1209146585),new cljs.core.Keyword(null,"ns","ns",441598760),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"top-fn","top-fn",-2056129173),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"arglists","arglists",1661989754),new cljs.core.Keyword(null,"doc","doc",1913296891),new cljs.core.Keyword(null,"test","test",577538877)],[new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"wrap-nested-params","wrap-nested-params",1100136337),new cljs.core.Keyword(null,"required","required",1807647006),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"wrap-params","wrap-params",2107756639)], null)], null),new cljs.core.Symbol(null,"macchiato.middleware.nested-params","macchiato.middleware.nested-params",-2086322111,null),new cljs.core.Symbol(null,"wrap-nested-params","wrap-nested-params",-1554299432,null),"public/js/compiled/dev/macchiato/middleware/nested_params.cljs",21,new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"variadic","variadic",882626057),false,new cljs.core.Keyword(null,"max-fixed-arity","max-fixed-arity",-690205543),2,new cljs.core.Keyword(null,"method-params","method-params",-980792179),cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"options","options",1740170016,null)], null)),new cljs.core.Keyword(null,"arglists","arglists",1661989754),cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"options","options",1740170016,null)], null)),new cljs.core.Keyword(null,"arglists-meta","arglists-meta",1944829838),cljs.core.list(null,null)], null),1,74,78,cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"options","options",1740170016,null)], null)),"Middleware to converts a flat map of parameters into a nested map.\n  Accepts the following options:\n  :key-parser - the function to use to parse the parameter names into a list\n                of keys. Keys that are empty strings are treated as elements in\n                a vector, non-empty keys are treated as elements in a map.\n                Defaults to the parse-nested-keys function.\n  For example:\n    {\"foo[bar]\" \"baz\"}\n    => {\"foo\" {\"bar\" \"baz\"}}\n    {\"foo[]\" \"bar\"}\n    => {\"foo\" [\"bar\"]}",(cljs.core.truth_(macchiato.middleware.nested_params.wrap_nested_params)?macchiato.middleware.nested_params.wrap_nested_params.cljs$lang$test:null)])),cljs.core.get_in.call(null,config,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"params","params",710516235),new cljs.core.Keyword(null,"nested","nested",18943849)], null),false)),new cljs.core.Var(function(){return macchiato.middleware.multipart_params.wrap_multipart;},new cljs.core.Symbol("macchiato.middleware.multipart-params","wrap-multipart","macchiato.middleware.multipart-params/wrap-multipart",-1435074907,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword("macchiato","middleware","macchiato/middleware",-1209146585),new cljs.core.Keyword(null,"ns","ns",441598760),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"top-fn","top-fn",-2056129173),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"arglists","arglists",1661989754),new cljs.core.Keyword(null,"doc","doc",1913296891),new cljs.core.Keyword(null,"test","test",577538877)],[new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"wrap-multi-part","wrap-multi-part",1773389542)], null),new cljs.core.Symbol(null,"macchiato.middleware.multipart-params","macchiato.middleware.multipart-params",-1210380509,null),new cljs.core.Symbol(null,"wrap-multipart","wrap-multipart",100073313,null),"public/js/compiled/dev/macchiato/middleware/multipart_params.cljs",17,new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"variadic","variadic",882626057),true,new cljs.core.Keyword(null,"max-fixed-arity","max-fixed-arity",-690205543),(1),new cljs.core.Keyword(null,"method-params","method-params",-980792179),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.list(new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"opts","opts",1795607228,null)], null))], null),new cljs.core.Keyword(null,"arglists","arglists",1661989754),cljs.core.list(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"&","&",-2144855648,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"opts","opts",1795607228,null)], null)], null)),new cljs.core.Keyword(null,"arglists-meta","arglists-meta",1944829838),cljs.core.list(null)], null),1,65,68,cljs.core.list(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"&","&",-2144855648,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"opts","opts",1795607228,null)], null)], null)),":encoding - sets encoding for the incoming form fields. Defaults to utf8.\n  :max-fields-size - Limits the amount of memory all fields (not files) can allocate in bytes. If this value is exceeded, an error event is emitted. The default size is 2MB.\n  :max-fields - Limits the number of fields that will be parsed before emitting an error event. A file counts as a field in this case. Defaults to 1000.\n  :max-files-size - Only relevant when autoFiles is true. Limits the total bytes accepted for all files combined. If this value is exceeded, an error event is emitted. The default is Infinity.\n  :upload-dir - Only relevant when autoFiles is true. The directory for placing file uploads in. Defaults to (.tmpDir os).\n  :progress-fn - function that will be called when bytes are received, should expect two fields: bytes-eeceived, bytes-expected",(cljs.core.truth_(macchiato.middleware.multipart_params.wrap_multipart)?macchiato.middleware.multipart_params.wrap_multipart.cljs$lang$test:null)])),cljs.core.get_in.call(null,config,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"params","params",710516235),new cljs.core.Keyword(null,"multipart","multipart",1158197946)], null),false)),new cljs.core.Var(function(){return macchiato.middleware.params.wrap_params;},new cljs.core.Symbol("macchiato.middleware.params","wrap-params","macchiato.middleware.params/wrap-params",-510954141,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword("macchiato","middleware","macchiato/middleware",-1209146585),new cljs.core.Keyword(null,"ns","ns",441598760),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"top-fn","top-fn",-2056129173),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"arglists","arglists",1661989754),new cljs.core.Keyword(null,"doc","doc",1913296891),new cljs.core.Keyword(null,"test","test",577538877)],[new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"wrap-params","wrap-params",2107756639)], null),new cljs.core.Symbol(null,"macchiato.middleware.params","macchiato.middleware.params",322942885,null),new cljs.core.Symbol(null,"wrap-params","wrap-params",-546679130,null),"public/js/compiled/dev/macchiato/middleware/params.cljs",14,new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"variadic","variadic",882626057),false,new cljs.core.Keyword(null,"max-fixed-arity","max-fixed-arity",-690205543),2,new cljs.core.Keyword(null,"method-params","method-params",-980792179),cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"options","options",1740170016,null)], null)),new cljs.core.Keyword(null,"arglists","arglists",1661989754),cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"options","options",1740170016,null)], null)),new cljs.core.Keyword(null,"arglists-meta","arglists-meta",1944829838),cljs.core.list(null,null)], null),1,48,51,cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"options","options",1740170016,null)], null)),"Middleware to parse urlencoded parameters from the query string and form\n  body (if the request is a url-encoded form). Adds the following keys to\n  the request map:\n  :query-params - a map of parameters from the query string\n  :form-params  - a map of parameters from the body\n  :params       - a merged map of all types of parameter\n  Accepts the following options:\n  :encoding - encoding to use for url-decoding. If not specified, uses\n              the request character encoding, or \"UTF-8\" if no request\n              character encoding is set.",(cljs.core.truth_(macchiato.middleware.params.wrap_params)?macchiato.middleware.params.wrap_params.cljs$lang$test:null)])),cljs.core.get_in.call(null,config,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"params","params",710516235),new cljs.core.Keyword(null,"urlencoded","urlencoded",52330307)], null),false)),new cljs.core.Var(function(){return macchiato.middleware.resource.wrap_resource;},new cljs.core.Symbol("macchiato.middleware.resource","wrap-resource","macchiato.middleware.resource/wrap-resource",-1758412294,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword("macchiato","middleware","macchiato/middleware",-1209146585),new cljs.core.Keyword(null,"ns","ns",441598760),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"arglists","arglists",1661989754),new cljs.core.Keyword(null,"doc","doc",1913296891),new cljs.core.Keyword(null,"test","test",577538877)],[new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"wrap-resource","wrap-resource",1121676672)], null),new cljs.core.Symbol(null,"macchiato.middleware.resource","macchiato.middleware.resource",-292842222,null),new cljs.core.Symbol(null,"wrap-resource","wrap-resource",-1532759097,null),"public/js/compiled/dev/macchiato/middleware/resource.cljs",16,1,31,34,cljs.core.list(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"root-path","root-path",-884501122,null)], null)),"Middleware that first checks to see whether the request map matches a static resource.",(cljs.core.truth_(macchiato.middleware.resource.wrap_resource)?macchiato.middleware.resource.wrap_resource.cljs$lang$test:null)])),cljs.core.get_in.call(null,config,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"static","static",1214358571),new cljs.core.Keyword(null,"resources","resources",1632806811)], null),false)),new cljs.core.Var(function(){return macchiato.middleware.file.wrap_file;},new cljs.core.Symbol("macchiato.middleware.file","wrap-file","macchiato.middleware.file/wrap-file",-447926982,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword("macchiato","middleware","macchiato/middleware",-1209146585),new cljs.core.Keyword(null,"ns","ns",441598760),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"top-fn","top-fn",-2056129173),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"arglists","arglists",1661989754),new cljs.core.Keyword(null,"doc","doc",1913296891),new cljs.core.Keyword(null,"test","test",577538877)],[new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"wrap-file","wrap-file",-1438240540)], null),new cljs.core.Symbol(null,"macchiato.middleware.file","macchiato.middleware.file",-703585828,null),new cljs.core.Symbol(null,"wrap-file","wrap-file",202290987,null),"public/js/compiled/dev/macchiato/middleware/file.cljs",12,new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"variadic","variadic",882626057),false,new cljs.core.Keyword(null,"max-fixed-arity","max-fixed-arity",-690205543),2,new cljs.core.Keyword(null,"method-params","method-params",-980792179),cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"mime-types","mime-types",-1922978266,null)], null)),new cljs.core.Keyword(null,"arglists","arglists",1661989754),cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"mime-types","mime-types",-1922978266,null)], null)),new cljs.core.Keyword(null,"arglists-meta","arglists-meta",1944829838),cljs.core.list(null,null)], null),1,46,49,cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"mime-types","mime-types",-1922978266,null)], null)),"Wrap a handler such that responses with a file for a body will have\n  corresponding Content-Type, Content-Length, and Last Modified headers added if\n  they can be determined from the file.\n  If the request specifies a If-Modified-Since header that matches the last\n  modification date of the file, a 304 Not Modified response is returned.\n  If two arguments are given, the second is taken to be a map of file extensions\n  to content types that will supplement the default, built-in map.",(cljs.core.truth_(macchiato.middleware.file.wrap_file)?macchiato.middleware.file.wrap_file.cljs$lang$test:null)])),cljs.core.get_in.call(null,config,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"static","static",1214358571),new cljs.core.Keyword(null,"files","files",-472457450)], null),false)),new cljs.core.Var(function(){return macchiato.middleware.content_type.wrap_content_type;},new cljs.core.Symbol("macchiato.middleware.content-type","wrap-content-type","macchiato.middleware.content-type/wrap-content-type",-1720908052,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword("macchiato","middleware","macchiato/middleware",-1209146585),new cljs.core.Keyword(null,"ns","ns",441598760),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"top-fn","top-fn",-2056129173),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"arglists","arglists",1661989754),new cljs.core.Keyword(null,"doc","doc",1913296891),new cljs.core.Keyword(null,"test","test",577538877)],[new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"wrap-content-type","wrap-content-type",1675367708)], null),new cljs.core.Symbol(null,"macchiato.middleware.content-type","macchiato.middleware.content-type",-1619697143,null),new cljs.core.Symbol(null,"wrap-content-type","wrap-content-type",-979068061,null),"public/js/compiled/dev/macchiato/middleware/content_type.cljs",20,new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"variadic","variadic",882626057),false,new cljs.core.Keyword(null,"max-fixed-arity","max-fixed-arity",-690205543),2,new cljs.core.Keyword(null,"method-params","method-params",-980792179),cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"options","options",1740170016,null)], null)),new cljs.core.Keyword(null,"arglists","arglists",1661989754),cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"options","options",1740170016,null)], null)),new cljs.core.Keyword(null,"arglists-meta","arglists-meta",1944829838),cljs.core.list(null,null)], null),1,17,20,cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"options","options",1740170016,null)], null)),"Middleware that adds a content-type header to the response if one is not\n  set by the handler. Uses the macchiato.util.mime-type/ext-mime-type function to\n  guess the content-type from the file extension in the URI. If no\n  content-type can be found, it defaults to 'application/octet-stream'.\n\n  Accepts the following options:\n\n  :mime-types - a map of filename extensions to mime-types that will be\n                used in addition to the ones defined in\n                macchiato.util.mime-types/default-mime-types",(cljs.core.truth_(macchiato.middleware.content_type.wrap_content_type)?macchiato.middleware.content_type.wrap_content_type.cljs$lang$test:null)])),cljs.core.get_in.call(null,config,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"responses","responses",1257546453),new cljs.core.Keyword(null,"content-types","content-types",1736685783)], null),false)),new cljs.core.Var(function(){return macchiato.middleware.default_charset.wrap_default_charset;},new cljs.core.Symbol("macchiato.middleware.default-charset","wrap-default-charset","macchiato.middleware.default-charset/wrap-default-charset",-81204569,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword("macchiato","middleware","macchiato/middleware",-1209146585),new cljs.core.Keyword(null,"ns","ns",441598760),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"arglists","arglists",1661989754),new cljs.core.Keyword(null,"doc","doc",1913296891),new cljs.core.Keyword(null,"test","test",577538877)],[new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"wrap-default-charset","wrap-default-charset",-1211902395)], null),new cljs.core.Symbol(null,"macchiato.middleware.default-charset","macchiato.middleware.default-charset",-2033295835,null),new cljs.core.Symbol(null,"wrap-default-charset","wrap-default-charset",428629132,null),"public/js/compiled/dev/macchiato/middleware/default_charset.cljs",23,1,25,28,cljs.core.list(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"charset","charset",576709334,null)], null)),"Middleware that adds a charset to the content-type header of the response if\n  one was not set by the handler.",(cljs.core.truth_(macchiato.middleware.default_charset.wrap_default_charset)?macchiato.middleware.default_charset.wrap_default_charset.cljs$lang$test:null)])),cljs.core.get_in.call(null,config,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"responses","responses",1257546453),new cljs.core.Keyword(null,"default-charset","default-charset",-1183575786)], null),false)),new cljs.core.Var(function(){return macchiato.middleware.not_modified.wrap_not_modified;},new cljs.core.Symbol("macchiato.middleware.not-modified","wrap-not-modified","macchiato.middleware.not-modified/wrap-not-modified",-1515138691,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword("macchiato","middleware","macchiato/middleware",-1209146585),new cljs.core.Keyword(null,"ns","ns",441598760),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"arglists","arglists",1661989754),new cljs.core.Keyword(null,"doc","doc",1913296891),new cljs.core.Keyword(null,"test","test",577538877)],[new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"wrap-not-modified","wrap-not-modified",720686846)], null),new cljs.core.Symbol(null,"macchiato.middleware.not-modified","macchiato.middleware.not-modified",435633450,null),new cljs.core.Symbol(null,"wrap-not-modified","wrap-not-modified",-1933748923,null),"public/js/compiled/dev/macchiato/middleware/not_modified.cljs",20,1,48,51,cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null)),"Middleware that returns a 304 Not Modified from the wrapped handler if the\n  handler response has an ETag or Last-Modified header, and the request has a\n  If-None-Match or If-Modified-Since header that matches the response.",(cljs.core.truth_(macchiato.middleware.not_modified.wrap_not_modified)?macchiato.middleware.not_modified.wrap_not_modified.cljs$lang$test:null)])),cljs.core.get_in.call(null,config,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"responses","responses",1257546453),new cljs.core.Keyword(null,"not-modified-responses","not-modified-responses",995197800)], null),false)),new cljs.core.Var(function(){return macchiato.middleware.x_headers.wrap_xss_protection;},new cljs.core.Symbol("macchiato.middleware.x-headers","wrap-xss-protection","macchiato.middleware.x-headers/wrap-xss-protection",-466005965,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword("macchiato","middleware","macchiato/middleware",-1209146585),new cljs.core.Keyword(null,"ns","ns",441598760),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"top-fn","top-fn",-2056129173),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"arglists","arglists",1661989754),new cljs.core.Keyword(null,"doc","doc",1913296891),new cljs.core.Keyword(null,"test","test",577538877)],[new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"wrap-xss-protection","wrap-xss-protection",1755299352)], null),new cljs.core.Symbol(null,"macchiato.middleware.x-headers","macchiato.middleware.x-headers",1728801606,null),new cljs.core.Symbol(null,"wrap-xss-protection","wrap-xss-protection",-899136417,null),"public/js/compiled/dev/macchiato/middleware/x_headers.cljs",22,new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"variadic","variadic",882626057),false,new cljs.core.Keyword(null,"max-fixed-arity","max-fixed-arity",-690205543),2,new cljs.core.Keyword(null,"method-params","method-params",-980792179),cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"keys","keys",1068423698),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"enable?","enable?",1233291833,null),new cljs.core.Symbol(null,"mode","mode",-2000032078,null)], null)], null)], null)),new cljs.core.Keyword(null,"arglists","arglists",1661989754),cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"keys","keys",1068423698),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"enable?","enable?",1233291833,null),new cljs.core.Symbol(null,"mode","mode",-2000032078,null)], null)], null)], null)),new cljs.core.Keyword(null,"arglists-meta","arglists-meta",1944829838),cljs.core.list(null,null)], null),1,77,80,cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"keys","keys",1068423698),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"enable?","enable?",1233291833,null),new cljs.core.Symbol(null,"mode","mode",-2000032078,null)], null)], null)], null)),"Middleware that adds the X-XSS-Protection header to the response. This header\n  enables a heuristic filter in browsers for detecting cross-site scripting\n  attacks. Usually on by default.\n  The :enable? key determines whether the filter should be turned on.\n  :mode - currently accepts only :block\n  See: http://msdn.microsoft.com/en-us/library/dd565647(v=vs.85).aspx",(cljs.core.truth_(macchiato.middleware.x_headers.wrap_xss_protection)?macchiato.middleware.x_headers.wrap_xss_protection.cljs$lang$test:null)])),cljs.core.get_in.call(null,config,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"security","security",886963079),new cljs.core.Keyword(null,"xss-protection","xss-protection",2105379669)], null),false)),new cljs.core.Var(function(){return macchiato.middleware.x_headers.wrap_frame_options;},new cljs.core.Symbol("macchiato.middleware.x-headers","wrap-frame-options","macchiato.middleware.x-headers/wrap-frame-options",-1267743369,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword("macchiato","middleware","macchiato/middleware",-1209146585),new cljs.core.Keyword(null,"ns","ns",441598760),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"arglists","arglists",1661989754),new cljs.core.Keyword(null,"doc","doc",1913296891),new cljs.core.Keyword(null,"test","test",577538877)],[new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"wrap-frame-options","wrap-frame-options",743723604)], null),new cljs.core.Symbol(null,"macchiato.middleware.x-headers","macchiato.middleware.x-headers",1728801606,null),new cljs.core.Symbol(null,"wrap-frame-options","wrap-frame-options",-1910712165,null),"public/js/compiled/dev/macchiato/middleware/x_headers.cljs",21,1,28,31,cljs.core.list(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"frame-options","frame-options",-1711898903,null)], null)),"Middleware that adds the X-Frame-Options header to the response. This governs\n  whether your site can be rendered in a <frame>, <iframe> or <object>, and is\n  typically used to prevent clickjacking attacks.\n  The following frame options are allowed:\n  :deny             - prevent any framing of the content\n  :sameorigin       - allow only the current site to frame the content\n  {:allow-from uri} - allow only the specified URI to frame the page\n  The :deny and :sameorigin options are keywords, while the :allow-from option\n  is a map consisting of one key/value pair.\n  Note that browser support for :allow-from is incomplete. See:\n  https://developer.mozilla.org/en-US/docs/Web/HTTP/X-Frame-Options",(cljs.core.truth_(macchiato.middleware.x_headers.wrap_frame_options)?macchiato.middleware.x_headers.wrap_frame_options.cljs$lang$test:null)])),cljs.core.get_in.call(null,config,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"security","security",886963079),new cljs.core.Keyword(null,"frame-options","frame-options",942536866)], null),false)),new cljs.core.Var(function(){return macchiato.middleware.x_headers.wrap_content_type_options;},new cljs.core.Symbol("macchiato.middleware.x-headers","wrap-content-type-options","macchiato.middleware.x-headers/wrap-content-type-options",1512030082,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword("macchiato","middleware","macchiato/middleware",-1209146585),new cljs.core.Keyword(null,"ns","ns",441598760),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"arglists","arglists",1661989754),new cljs.core.Keyword(null,"doc","doc",1913296891),new cljs.core.Keyword(null,"test","test",577538877)],[new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"wrap-content-type-options","wrap-content-type-options",1409686887)], null),new cljs.core.Symbol(null,"macchiato.middleware.x-headers","macchiato.middleware.x-headers",1728801606,null),new cljs.core.Symbol(null,"wrap-content-type-options","wrap-content-type-options",-1244748882,null),"public/js/compiled/dev/macchiato/middleware/x_headers.cljs",28,1,55,58,cljs.core.list(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"content-type-options","content-type-options",-1283515132,null)], null)),"Middleware that adds the X-Content-Type-Options header to the response. This\n  currently only accepts one option:\n  :nosniff - prevent resources with invalid media types being loaded as\n             stylesheets or scripts\n  This prevents attacks based around media type confusion. See:\n  http://msdn.microsoft.com/en-us/library/ie/gg622941(v=vs.85).aspx",(cljs.core.truth_(macchiato.middleware.x_headers.wrap_content_type_options)?macchiato.middleware.x_headers.wrap_content_type_options.cljs$lang$test:null)])),cljs.core.get_in.call(null,config,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"security","security",886963079),new cljs.core.Keyword(null,"content-type-options","content-type-options",1370920637)], null),false)),new cljs.core.Var(function(){return macchiato.middleware.ssl.wrap_hsts;},new cljs.core.Symbol("macchiato.middleware.ssl","wrap-hsts","macchiato.middleware.ssl/wrap-hsts",1165039227,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword("macchiato","middleware","macchiato/middleware",-1209146585),new cljs.core.Keyword(null,"ns","ns",441598760),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"top-fn","top-fn",-2056129173),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"arglists","arglists",1661989754),new cljs.core.Keyword(null,"doc","doc",1913296891),new cljs.core.Keyword(null,"test","test",577538877)],[new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"wrap-hsts","wrap-hsts",1871803161)], null),new cljs.core.Symbol(null,"macchiato.middleware.ssl","macchiato.middleware.ssl",94484830,null),new cljs.core.Symbol(null,"wrap-hsts","wrap-hsts",-782632608,null),"public/js/compiled/dev/macchiato/middleware/ssl.cljs",12,new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"variadic","variadic",882626057),false,new cljs.core.Keyword(null,"max-fixed-arity","max-fixed-arity",-690205543),2,new cljs.core.Keyword(null,"method-params","method-params",-980792179),cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"options","options",1740170016,null)], null)),new cljs.core.Keyword(null,"arglists","arglists",1661989754),cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"options","options",1740170016,null)], null)),new cljs.core.Keyword(null,"arglists-meta","arglists-meta",1944829838),cljs.core.list(null,null)], null),1,102,105,cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"options","options",1740170016,null)], null)),"Middleware that adds the Strict-Transport-Security header to the response\n  from the handler. This ensures the browser will only use HTTPS for future\n  requests to the domain.\n\n  Accepts the following options:\n\n  :max-age             - the max time in seconds the HSTS policy applies\n                         (defaults to 31536000 seconds, or 1 year)\n\n  :include-subdomains? - true if subdomains should be included in the HSTS\n                         policy (defaults to true)\n\n  See RFC 6797 for more information (https://tools.ietf.org/html/rfc6797).",(cljs.core.truth_(macchiato.middleware.ssl.wrap_hsts)?macchiato.middleware.ssl.wrap_hsts.cljs$lang$test:null)])),cljs.core.get_in.call(null,config,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"security","security",886963079),new cljs.core.Keyword(null,"hsts","hsts",490537911)], null),false)),new cljs.core.Var(function(){return macchiato.middleware.ssl.wrap_ssl_redirect;},new cljs.core.Symbol("macchiato.middleware.ssl","wrap-ssl-redirect","macchiato.middleware.ssl/wrap-ssl-redirect",-637085905,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword("macchiato","middleware","macchiato/middleware",-1209146585),new cljs.core.Keyword(null,"ns","ns",441598760),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"top-fn","top-fn",-2056129173),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"arglists","arglists",1661989754),new cljs.core.Keyword(null,"doc","doc",1913296891),new cljs.core.Keyword(null,"test","test",577538877)],[new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"wrap-ssl-redirect","wrap-ssl-redirect",1295465439)], null),new cljs.core.Symbol(null,"macchiato.middleware.ssl","macchiato.middleware.ssl",94484830,null),new cljs.core.Symbol(null,"wrap-ssl-redirect","wrap-ssl-redirect",-1358970330,null),"public/js/compiled/dev/macchiato/middleware/ssl.cljs",20,new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"variadic","variadic",882626057),false,new cljs.core.Keyword(null,"max-fixed-arity","max-fixed-arity",-690205543),2,new cljs.core.Keyword(null,"method-params","method-params",-980792179),cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"options","options",1740170016,null)], null)),new cljs.core.Keyword(null,"arglists","arglists",1661989754),cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"options","options",1740170016,null)], null)),new cljs.core.Keyword(null,"arglists-meta","arglists-meta",1944829838),cljs.core.list(null,null)], null),1,69,72,cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"options","options",1740170016,null)], null)),"Middleware that redirects any HTTP request to the equivalent HTTPS URL.\n\n  Accepts the following options:\n\n  :ssl-port - the SSL port to use for redirects, defaults to 443.",(cljs.core.truth_(macchiato.middleware.ssl.wrap_ssl_redirect)?macchiato.middleware.ssl.wrap_ssl_redirect.cljs$lang$test:null)])),cljs.core.get_in.call(null,config,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"security","security",886963079),new cljs.core.Keyword(null,"ssl-redirect","ssl-redirect",985122709)], null),false)),new cljs.core.Var(function(){return macchiato.middleware.ssl.wrap_forwarded_scheme;},new cljs.core.Symbol("macchiato.middleware.ssl","wrap-forwarded-scheme","macchiato.middleware.ssl/wrap-forwarded-scheme",-1024937628,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword("macchiato","middleware","macchiato/middleware",-1209146585),new cljs.core.Keyword(null,"ns","ns",441598760),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"top-fn","top-fn",-2056129173),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"arglists","arglists",1661989754),new cljs.core.Keyword(null,"doc","doc",1913296891),new cljs.core.Keyword(null,"test","test",577538877)],[new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"wrap-forwarded-scheme","wrap-forwarded-scheme",-184073176)], null),new cljs.core.Symbol(null,"macchiato.middleware.ssl","macchiato.middleware.ssl",94484830,null),new cljs.core.Symbol(null,"wrap-forwarded-scheme","wrap-forwarded-scheme",1456458351,null),"public/js/compiled/dev/macchiato/middleware/ssl.cljs",24,new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"variadic","variadic",882626057),false,new cljs.core.Keyword(null,"max-fixed-arity","max-fixed-arity",-690205543),2,new cljs.core.Keyword(null,"method-params","method-params",-980792179),cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"header","header",1759972661,null)], null)),new cljs.core.Keyword(null,"arglists","arglists",1661989754),cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"header","header",1759972661,null)], null)),new cljs.core.Keyword(null,"arglists-meta","arglists-meta",1944829838),cljs.core.list(null,null)], null),1,27,30,cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null),new cljs.core.Symbol(null,"header","header",1759972661,null)], null)),"Middleware that changes the :scheme of the request map to the value present\n  in a request header. This is useful if your application sits behind a\n  reverse proxy or load balancer that handles the SSL transport.\n\n  The header defaults to x-forwarded-proto.",(cljs.core.truth_(macchiato.middleware.ssl.wrap_forwarded_scheme)?macchiato.middleware.ssl.wrap_forwarded_scheme.cljs$lang$test:null)])),cljs.core.boolean$.call(null,new cljs.core.Keyword(null,"proxy","proxy",-117453614).cljs$core$IFn$_invoke$arity$1(config))),new cljs.core.Var(function(){return macchiato.middleware.proxy_headers.wrap_forwarded_remote_addr;},new cljs.core.Symbol("macchiato.middleware.proxy-headers","wrap-forwarded-remote-addr","macchiato.middleware.proxy-headers/wrap-forwarded-remote-addr",-691152836,null),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword("macchiato","middleware","macchiato/middleware",-1209146585),new cljs.core.Keyword(null,"ns","ns",441598760),new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword(null,"file","file",-1269645878),new cljs.core.Keyword(null,"end-column","end-column",1425389514),new cljs.core.Keyword(null,"column","column",2078222095),new cljs.core.Keyword(null,"line","line",212345235),new cljs.core.Keyword(null,"end-line","end-line",1837326455),new cljs.core.Keyword(null,"arglists","arglists",1661989754),new cljs.core.Keyword(null,"doc","doc",1913296891),new cljs.core.Keyword(null,"test","test",577538877)],[new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"wrap-forwarded-remote-addr","wrap-forwarded-remote-addr",118441095)], null),new cljs.core.Symbol(null,"macchiato.middleware.proxy-headers","macchiato.middleware.proxy-headers",1019116964,null),new cljs.core.Symbol(null,"wrap-forwarded-remote-addr","wrap-forwarded-remote-addr",1758972622,null),"public/js/compiled/dev/macchiato/middleware/proxy_headers.cljs",29,1,13,16,cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"handler","handler",1444934915,null)], null)),"Middleware that changes the :remote-addr of the request map to the\n  last value present in the X-Forwarded-For header.",(cljs.core.truth_(macchiato.middleware.proxy_headers.wrap_forwarded_remote_addr)?macchiato.middleware.proxy_headers.wrap_forwarded_remote_addr.cljs$lang$test:null)])),cljs.core.boolean$.call(null,new cljs.core.Keyword(null,"proxy","proxy",-117453614).cljs$core$IFn$_invoke$arity$1(config))));
});

//# sourceMappingURL=defaults.js.map?rel=1488028098639